EC2 : Elastic Compute Cloud : 

box = Servers = Instance = Azure VM = Virtual Machine = GCP Engines

Advantages with ec2 : 
--> pay-as-you-go
--> Project : 10 cust.. Future requirements.. 100 cust.. 1000 cust++ : 200cus : 10 cust


On-Demand ec2 instances = Testing application for the first time.. No predictable/stable workloads.. If you are not sure about the config requirement..!!!
Price: /sec (with min of 60 Sec).. 

Reserved ec2 instances = stable / predictable workloads for longer durations.. For long turm run..  Duration : 1 Yr / 3 Yrs.. We need to choose/flinalise config.. 

	Standard RI : We canot change the configuration during the period.
	Convertable RI : We can upgrade the configuration.. 
	Schedured RI : repeated/persistant requests for the longer duration (Ex: Need a server from MON-FRI only, but for 3 Yrs)

Pricing : 
	--> Full Upfront : pay 100% while purchasing.
	--> Partial Upfront : pay 30-50% while purchasing.. remaing pay monthly basis with reduced pricing.
	--> No upfront : Pay everything monthly basis.


Spot ec2 instances = If we are flexible to stop/start instances.. We need to bid our pricing against AWS pricing.. We can test application with high configs at low price..

--> If price increased, AWS terminated our instance, we no need to pay partial hours..
1:45 Min : AWS Terminated : 1 Hr only
1:45 Min : You terminated : 1:45 min


Tenancy:
Shared tenancy : Underlying hardware will be shared with multiple customers.
Dedicated tenancy : Underlying resources will be delivered to only one customer.
	--> Dedicated Instance : 
	--> Dedicated host : 

____________________________________________________________________________________
D: 09/02/2021

EC2 is Region specific service.
--> Mumbai (Primary)
--> N Virginia (Secondary)


FREE Tier : 
750 Hrs/Month.. t2.micro.. Windows 
750 Hrs/Month.. t2.micro.. Linux

Storage : 30gb/Month


Step 1: Choose an Amazon Machine Image (AMI)	: Operating System

Step 2: Choose an Instance Type			: COnfiuration of server (CPU, Memory)

General Purpose : stable perf of compute, Memory and Network resources.. : t2, t3, m5, m4
Compute Optimized : High CPU utiliation..: c5, c6, c4
Memory Optimized : More RAM memory perf.. : r4, r5, x1, z1
GPU Optimised : More graphic perf.. P2, P3, G3, G4, F1
Storage Optimized : More storage pef.. : d2, d3, i3en


Shutdown behavior: Stop/Terminate : stop

Step 3 : CHoose Storage

Step 4 : Add required Tags (Applocation, Platform, Cost Center)

Step 5 : Configure the Security Groups
Ports : (0-65535)

RDP : Windows : 3389 :   
SSH : Linux : 22 : 
Webserver : http : 80

Step 6 : Review and launch. Create a Keypair..

Public key (AWS Instance) and Private Key (We downloaded)

Public IP : unique across the globe. Use public ip to get connect to the ec2 instance.

Open run (windows + r) --> mstsc --> Enter.


Stop and Start :
Terminate : Deletes the instance.


Task : Launch a Windows instance, Change the administrator password.. Logout from instance.. try to login to instance with Keypair given password..?? Allow/deny.??

Task 2 : Make your instance as IIS Webserver and deliver the webpage to everyone.

Task 3 : Create another user within our ec2 instance, provide the local admin rights to that user and Take a Remote session with newly created user.


____________________________________________________________________________________

D: 10/02/2021

Step 1 : Choose an AMI 			: Amazon Linux 2
Step 2 : Choose an Instance type	: t2.micro
Step 3 : Additional COnfig		: 
Step 4 : Choose the Storage		: 8 gb
Step 5 : Add the tags			: Max 50 tags/instance
Step 6 : Configure the SG		: Linux : SSH : 22 : 0.0.0.0/0
Step 7 : Review and launch using keypair: .pem


How to connect to Linux Instance :
Putty : COnvert the .pem to .ppk file  (First create a .ppk file in AWS, use it with Linux instance) (.ppk)
GIT : Install git in your laptop and use git to connect (.pem)
CMD : Enable OPENSSH in Windows 10 and we can use COmmand prompt to connect (.pem)

Putty : https://putty.org/ and Download Putty and PuttyGen

GIT : https://git-scm.com/downloads

ssh -i keypair.pem ec2-user@publicipaddress
ssh -i linuxkp2.pem ec2-user@13.233.204.179

ssh -i "linuxkp2.pem" ec2-user@13.233.204.179

_________________

EBS VOlumes : 

SSD : Solid State Drives : 
HDD : Hard Disk Drives : 
Magnetic (previous Generation) : 

IOPS : Input and Output operations per Second
root = COntains Instance Operating SYstem = General Purpose / Provisoned IOPS / Magnetic


General purpose SSD : gp2 & gp3 : 
Usecase : Low-Latency interactive applications.. Dev and Test Environment..  
Size : 1 GiB - 16 TiB
Max IOPS : 16,000
We can choose required IOPS count if we are using GP3. But this feature is not avaiblble with gp2.

Provisioned IOPS SSD : io1 & io2 :
Usecase : If your application req more than 16,000 IOPS.. For Interactive Database workloads..  Production environment.. If you required specific IOPS count for your application.. 
Size : 4 GiB - 16 TiB
Max IOPS : 64,000 

Magnetic : Cheapest Storage.. Less Freq accessed data.. 
Usecase : Low Cost and less freq accessed instances..
Size : 1 GiB - 1 TiB

Througput Optimized HDD : st1 : 
Usecase : Bigdata, Data warehousing, Log Processings
Size : 125 GiB - 16 TiB
Throughput : 500 MiB/Sec

COld HDD : sc1 : 
Usecase : same as st1 but Infrq accesed.. Low starage cost than st1..
Size : 125 GiB - 16 TiB
Throughput : 250 MiB/Sec


FREE TIER : 30 Gb General Purpose GP2 and Magnetic


______________________________________________________________________________________

D: 11/02/2021

Permissions are too open / Unprotected keypair :
chmod 400 keypair.pem

EBS : 
--> For ebs volume we can increase the size, but cannot decrease the size.

Delete on Termination : If we terminate this ec2 instance, what should happens to this ebs volume.?? If DOT is enabled, Volume deltes automatically. 

How to attach an ebs volume to an ec2 instance how to make it aviable.

How to extend an existing volume.

--> if your volume is in ap-south-1a subnet, you can associate this volume to only ap-south-1a ec2 instances only..!!!
_____________________________________________________________________
Status Checks : 
--> System Status check : Any issues at physical interface level. : Fix: Stop/start
--> Instance status check : Instance level issues. : reboot / get logs

________________

Stop and start ec2 instance will give us the Diff pubic ip addresses.
rebooting instance won't change the public IP.

13.127.88.188		--> 
15.206.124.250		--> updated..!!

65.1.44.78		--> EIP

EIP : Elastic IP Address : Dedicated IP address allocated to our aws region. We can associate to any of the supported resources in this region. 


ENI : Elastic Network interface : Additional network interface for our ec2 instance.
Can we associate multiple IPs to an ec2 instance.?
YES.. 
--> Associate Multiple ENI (Elastic Network interface) cards.. 


Task : Launch an ec2 instance in ap-south-1a.. Make it as webserver.. Add addiitonal nic card to your ap-south-1a instance.. 
Launch another ec2 instance in ap-south-1b.. Test the ap-south-01. website output using Multiple Private IP address..??


Task 2 : Launch an ec2 instance in ap-south-1a.. Add 1gb additional volumes after instance launch.. and make it aviailable. Write some data to newly added volume.

Launch another ec2 instance ap-south-1b.. Get same copy of volume from ap-south-1a instance... and verify all data is existed or not..??


______________________________________________________________________________________

D: 12/02/2021

Snapshot : Backup copy of our EBS volumes.
--> Point-in-time recivery copy.
--> Amazon user S3 platform to store the backup copies (Not in your s3/ you won't find in your account).
--> We can copy snapshot to another region. 
--> We can share snapshot with another AWS account user. (you sharing from mumbai = Receiver also gets it in mumbai region only)
--> We can make it public. 
** --> We cannot share Encrypted snapshots, if it is encrypted with Default Encryption.

Can we encrypt an existing volume..??
Ans : We can take snapshot, from snapshot we can create a volume, while creating we can encrypt this..!!


DLM : Data Lifecycle Manager : TO automate the instance/volume backup process, we use this.
--> Using Tags on ec2 instance / ebs volumes we can list/filter the resources.

Prod: 14 Days backups
NonProd : 7 Days backups

___

Request : 20 ec2 instances.. AV, Customwallper, IIS Webserver, Keypair should not work, Custom users.. 


Take one ec2 instance.. Perform all custom settins.. Take a Backup as an AMI --> From that AMI, how many instanes we launch, we will get all the custom settings.

CIS : Center for Internet security : OS Benchmarks.. 


Task : 

























